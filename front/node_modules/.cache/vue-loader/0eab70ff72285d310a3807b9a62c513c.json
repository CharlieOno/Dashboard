{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/Register.vue","mtime":1574445184959},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Cgpjb25zdCAgIFBFTkRJTkcgPSAwOwpjb25zdCAgIEVSUk9SX0FSR1MgPSAxOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWdpc3RlcicsCiAgcHJvcHM6IHsKICAgICAgc3RhdGU6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICcnCiAgICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgICByZWdpc3RyYXRpb25TdGF0dXM6IFBFTkRJTkcKICAgICAgfQogIH0sCiAgbWV0aG9kczogewogICAgICBjbG9zZSgpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZS1zdGF0ZScsICcnKTsKICAgICAgfSwKICAgICAgcmVnaXN0ZXIoKSB7CiAgICAgICAgICAgIHRoaXMuYXhpb3MucG9zdChgaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlZ2lzdGVyP2VtYWlsPSR7dGhpcy5lbWFpbH0mcGFzc3dvcmQ9JHt0aGlzLnBhc3N3b3JkfS9gKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAiRS1tYWlsIG9yIHBhc3N3b3JkIGRvZXNuJ3QgZXhpc3QuIikgewogICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cmF0aW9uU3RhdHVzID0gRVJST1JfQVJHUzsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgfQogIH0KfQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"modal\" :class=\"state\">\n        <div class=\"modal-background\" @click=\"close()\"></div>\n        <div class=\"modal-card\">\n            <header class=\"modal-card-head\">\n                <p class=\"modal-card-title title is-4\">Inscrivez-vous en moins de 2 minutes!</p>\n            </header>\n            <section class=\"modal-card-body\">\n                <form>\n                    <div class=\"field\">\n                        <p class=\"control has-icons-left\">\n                            <input v-on:keyup.enter=\"register()\" v-model=\"email\" class=\"input\" type=\"email\" placeholder=\"Email\">\n                            <span class=\"icon is-small is-left\">\n                            <i class=\"fas fa-envelope\"></i>\n                            </span>\n                        </p>\n                    </div>\n                    <div class=\"field\">\n                        <p class=\"control has-icons-left\">\n                            <input v-on:keyup.enter=\"register()\" autocomplete v-model=\"password\" class=\"input\" type=\"password\" placeholder=\"Password\">\n                            <span class=\"icon is-small is-left\">\n                            <i class=\"fas fa-lock\"></i>\n                            </span>\n                        </p>\n                    </div>\n                    <div class=\"notification is-danger\" v-if=\"registrationStatus === 1\">\n                        E-mail et/ou mot de passe incorrect.\n                    </div>\n                </form>\n            </section>\n            <footer class=\"modal-card-foot\">\n                <button class=\"button is-primary\" v-on:click=\"register()\">Inscription</button>\n                <button class=\"button\" v-on:click=\"close()\">Annuler</button>\n            </footer>\n        </div>\n        <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"close()\"></button>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nconst   PENDING = 0;\nconst   ERROR_ARGS = 1;\n\nexport default {\n  name: 'Register',\n  props: {\n      state: {\n          type: String,\n          default: ''\n      }\n  },\n  data() {\n      return {\n          email: \"\",\n          password: \"\",\n          registrationStatus: PENDING\n      }\n  },\n  methods: {\n      close() {\n          this.$emit('update-state', '');\n      },\n      register() {\n            this.axios.post(`http://localhost:8080/register?email=${this.email}&password=${this.password}/`)\n            .then((response) => {\n                if (response.data === \"E-mail or password doesn't exist.\") {\n                    this.registrationStatus = ERROR_ARGS;\n                    return;\n                } else {\n                    this.close();\n                }\n            })\n      }\n  }\n}\n</script>"]}]}