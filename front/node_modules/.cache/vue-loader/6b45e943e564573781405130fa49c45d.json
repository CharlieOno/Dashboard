{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/SpotifyRelatedArtistsConfig.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/SpotifyRelatedArtistsConfig.vue","mtime":1577633196598},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdTcG90aWZ5UmVsYXRlZEFydGlzdHNDb25maWcnLAogICAgcHJvcHM6IHsKICAgICAgICBzdGF0ZTogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnCiAgICAgICAgfSwKICAgICAgICB0b2tlbjogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnCiAgICAgICAgfSwKICAgICAgICBjb25maWc6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnJwogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNlYXJjaFF1ZXJ5OiAiIiwKICAgICAgICAgICAgcGlja2VkOiAiIiwKICAgICAgICAgICAgcmVzdWx0czogW10KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGNsb3NlKCkgewogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlLXN0YXRlJywgewogICAgICAgICAgICAgIHN0YXRlOiAiIiwKICAgICAgICAgICAgICBpZDogIm5vbmUiCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHNlYXJjaCgpIHsKICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoYGh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL3NlYXJjaD9xPSR7dGhpcy5zZWFyY2hRdWVyeX0mdHlwZT1hcnRpc3RgLAogICAgICAgICAgICB7IGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogYEJlYXJlciAke3RoaXMudG9rZW59YAogICAgICAgICAgICB9fSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHMgPSByZXNwb25zZS5kYXRhLmFydGlzdHMuaXRlbXM7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYWRkKCkgewogICAgICAgICAgICB2YXIgeCA9IHRoaXMucmVzdWx0cy5tYXAoZnVuY3Rpb24oZSkgeyByZXR1cm4gZS5pZDsgfSkuaW5kZXhPZih0aGlzLnBpY2tlZCk7CgogICAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUtc3RhdGUnLCB7CiAgICAgICAgICAgICAgICBzdGF0ZTogIiIsCiAgICAgICAgICAgICAgICBpZDogdGhpcy5yZXN1bHRzW3hdLmlkLAogICAgICAgICAgICAgICAgbmFtZTogdGhpcy5yZXN1bHRzW3hdLm5hbWUsCiAgICAgICAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlnCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["SpotifyRelatedArtistsConfig.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SpotifyRelatedArtistsConfig.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"modal\" :class=\"state\">\n        <div class=\"modal-background\" @click=\"close()\"></div>\n        <div class=\"modal-card\">\n            <header class=\"modal-card-head\">\n                <p class=\"modal-card-title title is-4\">Spotify - Artistes associ√©s</p>\n            </header>\n            <section class=\"modal-card-body \" style=\"margin-bottom: inherit;\">\n                <div class=\"columns\" style=\"margin-bottom: inherit;\">\n                    <div class=\"column is-9\">\n                        <input v-model=\"searchQuery\" class=\"input\" type=\"text\" placeholder=\"Rechercher un artiste\">\n                    </div>\n                    <div class=\"column is-3\">\n                        <button @click=\"search()\" class=\"button\">Rechercher</button>\n                    </div>\n                </div>\n                <div class=\"control\">\n                    <label class=\"radio\" v-for=\"result in results\" :key=\"result.id\">\n                        <input type=\"radio\" name=\"selection\" :value=\"result.id\" v-model=\"picked\">\n                        {{ result.name }}\n                    </label>\n                </div>\n            </section>\n            <footer class=\"modal-card-foot\">\n                <button class=\"button is-primary\" v-on:click=\"add()\">Ajouter</button>\n                <button class=\"button\" v-on:click=\"close()\">Annuler</button>\n            </footer>\n        </div>\n        <button class=\"modal-close is-large\" aria-label=\"close\" @click=\"close()\"></button>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'SpotifyRelatedArtistsConfig',\n    props: {\n        state: {\n            type: String,\n            default: ''\n        },\n        token: {\n            type: String,\n            default: ''\n        },\n        config: {\n            type: String,\n            default: ''\n        }\n    },\n    data() {\n        return {\n            searchQuery: \"\",\n            picked: \"\",\n            results: []\n        }\n    },\n    methods: {\n        close() {\n          this.$emit('update-state', {\n              state: \"\",\n              id: \"none\"\n          });\n        },\n        search() {\n            this.axios.get(`https://api.spotify.com/v1/search?q=${this.searchQuery}&type=artist`,\n            { headers: {\n                \"Authorization\": `Bearer ${this.token}`\n            }})\n            .then((response) => {\n                this.results = response.data.artists.items;\n            });\n        },\n        add() {\n            var x = this.results.map(function(e) { return e.id; }).indexOf(this.picked);\n\n            this.$emit('update-state', {\n                state: \"\",\n                id: this.results[x].id,\n                name: this.results[x].name,\n                config: this.config\n            });\n        }\n    }\n}\n</script>\n\n<style>\n\n.radio {\n    width: 100%;\n}\n\n.radio + .radio {\n    margin-left: inherit;\n}\n\n</style>"]}]}